(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1150:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let o=t(95155),n=t(12115),s=t(24437);function a(e){return{default:e&&"default"in e?e.default:e}}t(36552);let i={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},l=function(e){let r={...i,...e},t=(0,n.lazy)(()=>r.loader().then(a)),l=r.loading;function c(e){let a=l?(0,o.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,i=!r.ssr||!!r.loading,c=i?n.Suspense:n.Fragment,u=r.ssr?(0,o.jsxs)(o.Fragment,{children:[null,(0,o.jsx)(t,{...e})]}):(0,o.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(t,{...e})});return(0,o.jsx)(c,{...i?{fallback:a}:{},children:u})}return c.displayName="LoadableComponent",c}},4112:(e,r,t)=>{"use strict";t.d(r,{AuthGuard:()=>D});var o=t(95155),n=t(80851),s=t(4474),a=t(23315),i=t(86278),l=t.n(i),c=t(12115),u=t(65380),d=t(14041),f=t(77073),h=t(68212),b=t(42063),x=t(2778),g=t(52363),p=t(41983),m=t(65036),j=t(78010),y=t(61023),A=t(56422),v=t(75912),B=t(70690);let C=e=>{let{open:r,onClose:t}=e,{login:i,loading:l,error:C,clearError:F}=(0,u.A)(),[D,P]=(0,c.useState)({username:"",password:""}),[k,S]=(0,c.useState)(!1),[w,_]=(0,c.useState)(null);(0,c.useEffect)(()=>{r&&(_(null),P({username:"",password:""}))},[r]);let O=e=>r=>{P(t=>({...t,[e]:r.target.value})),(C||w)&&(F(),_(null))},I=async e=>{if(e.preventDefault(),!D.username.trim()||!D.password.trim())return void _("Please enter both username and password");await i(D)&&t()},M=e=>{"Enter"===e.key&&I(e)},E=C||w;return(0,o.jsxs)(x.A,{open:r,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"#1A1A1A",border:"1px solid #2B2B2B",borderRadius:2}},children:[(0,o.jsxs)(g.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:1},children:[(0,o.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(d.A,{sx:{color:"#FFD600",fontSize:"1.5rem"}}),(0,o.jsx)(a.A,{variant:"h5",sx:{fontWeight:700,color:"#FFD600"},children:"Admin Login"})]}),(0,o.jsx)(p.A,{onClick:t,sx:{color:"#B0B0B0","&:hover":{color:"#FFD600"}},children:(0,o.jsx)(f.A,{})})]}),(0,o.jsxs)(m.A,{sx:{pt:2},children:[(0,o.jsx)(a.A,{variant:"body2",sx:{color:"#B0B0B0",mb:3,textAlign:"center"},children:"Enter your credentials to access the Matseka Suricata Dashboard"}),E&&(0,o.jsx)(j.A,{severity:"error",sx:{mb:3,backgroundColor:"#2D1B1B",color:"#F44336","& .MuiAlert-icon":{color:"#F44336"}},children:E}),(0,o.jsxs)(n.A,{component:"form",onSubmit:I,children:[(0,o.jsx)(y.A,{fullWidth:!0,label:"Username",value:D.username,onChange:O("username"),onKeyPress:M,disabled:l,autoFocus:!0,sx:{mb:3,"& .MuiOutlinedInput-root":{color:"#FFF","& fieldset":{borderColor:"#2B2B2B"},"&:hover fieldset":{borderColor:"#FFD600"},"&.Mui-focused fieldset":{borderColor:"#FFD600"}},"& .MuiInputLabel-root":{color:"#B0B0B0","&.Mui-focused":{color:"#FFD600"}}}}),(0,o.jsx)(y.A,{fullWidth:!0,label:"Password",type:k?"text":"password",value:D.password,onChange:O("password"),onKeyPress:M,disabled:l,InputProps:{endAdornment:(0,o.jsx)(A.A,{position:"end",children:(0,o.jsx)(p.A,{onClick:()=>{S(!k)},edge:"end",sx:{color:"#B0B0B0"},children:k?(0,o.jsx)(h.A,{}):(0,o.jsx)(b.A,{})})})},sx:{mb:3,"& .MuiOutlinedInput-root":{color:"#FFF","& fieldset":{borderColor:"#2B2B2B"},"&:hover fieldset":{borderColor:"#FFD600"},"&.Mui-focused fieldset":{borderColor:"#FFD600"}},"& .MuiInputLabel-root":{color:"#B0B0B0","&.Mui-focused":{color:"#FFD600"}}}}),(0,o.jsxs)(n.A,{sx:{backgroundColor:"#0D0D0D",border:"1px solid #2B2B2B",borderRadius:1,p:2,mb:3},children:[(0,o.jsx)(a.A,{variant:"caption",sx:{color:"#B0B0B0",display:"block",mb:1,fontWeight:600},children:"Default Credentials:"}),(0,o.jsx)(a.A,{variant:"caption",sx:{color:"#FFD600",fontFamily:"monospace",display:"block"},children:"Username: admin"}),(0,o.jsx)(a.A,{variant:"caption",sx:{color:"#FFD600",fontFamily:"monospace",display:"block"},children:"Password: suricata2024"})]})]})]}),(0,o.jsxs)(v.A,{sx:{p:3,pt:0},children:[(0,o.jsx)(B.A,{onClick:t,disabled:l,sx:{color:"#B0B0B0","&:hover":{backgroundColor:"#2B2B2B"}},children:"Cancel"}),(0,o.jsx)(B.A,{onClick:I,disabled:l||!D.username.trim()||!D.password.trim(),variant:"contained",sx:{backgroundColor:"#FFD600",color:"#000",fontWeight:700,minWidth:120,"&:hover":{backgroundColor:"#F9A825"},"&:disabled":{backgroundColor:"#2B2B2B",color:"#666"}},children:l?(0,o.jsx)(s.A,{size:20,sx:{color:"#000"}}):"Login"})]})]})},F=e=>{let{children:r}=e,{isAuthenticated:t,loading:i}=(0,u.A)(),[l,d]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{console.log("AuthGuard state:",{loading:i,isAuthenticated:t,showLoginModal:l}),i||t?t&&d(!1):d(!0)},[t,i]),i)?(0,o.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#0D0D0D",gap:2},children:[(0,o.jsx)(s.A,{size:60,sx:{color:"#FFD600"}}),(0,o.jsx)(a.A,{variant:"h6",sx:{color:"#B0B0B0",fontWeight:500},children:"Loading Matseka Suricata Dashboard..."})]}):t?(0,o.jsx)(o.Fragment,{children:r}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#0D0D0D",gap:3},children:[(0,o.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,o.jsx)(n.A,{sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"#FFD600",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,color:"#000",fontSize:"1.5rem"},children:"IDS"}),(0,o.jsxs)(n.A,{children:[(0,o.jsx)(a.A,{variant:"h3",sx:{fontWeight:700,color:"#FFD600",lineHeight:1},children:"Matseka"}),(0,o.jsx)(a.A,{variant:"h5",sx:{color:"#B0B0B0",fontWeight:500},children:"Suricata Dashboard"})]})]}),(0,o.jsx)(a.A,{variant:"h6",sx:{color:"#B0B0B0",textAlign:"center",maxWidth:500,mb:2},children:"Network Intrusion Detection System"}),(0,o.jsx)(a.A,{variant:"body2",sx:{color:"#666",textAlign:"center",maxWidth:400},children:"Secure access required. Please authenticate to continue."})]}),(0,o.jsx)(C,{open:l,onClose:()=>d(!1)})]})},D=l()(()=>Promise.resolve(F),{ssr:!1,loading:()=>(0,o.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#0D0D0D",gap:2},children:[(0,o.jsx)(s.A,{size:60,sx:{color:"#FFD600"}}),(0,o.jsx)(a.A,{variant:"h6",sx:{color:"#B0B0B0",fontWeight:500},children:"Loading Matseka Suricata Dashboard..."})]})})},8567:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return o.workAsyncStorageInstance}});let o=t(17828)},13673:()=>{},17828:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return o}});let o=(0,t(64054).createAsyncLocalStorage)()},24437:(e,r,t)=>{"use strict";function o(e){let{reason:r,children:t}=e;return t}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return o}}),t(24553)},35116:(e,r,t)=>{"use strict";t.d(r,{ConfigProvider:()=>i,U:()=>l});var o=t(95155),n=t(12115);let s=(0,n.createContext)(void 0),a={supabaseUrl:"https://your-project.supabase.co",supabaseKey:"your-anon-key",apiUrl:"http://localhost:8000",isConfigured:!1},i=e=>{let{children:r}=e,[i,l]=(0,n.useState)(a),[c,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{{let e=localStorage.getItem("dashboardConfig");if(e)try{let r=JSON.parse(e);l(e=>({...e,...r,isConfigured:!0}))}catch(e){console.error("Failed to parse saved config:",e)}}},[]),(0,n.useEffect)(()=>{i.isConfigured&&localStorage.setItem("dashboardConfig",JSON.stringify(i))},[i]);let d=async()=>{u(!0);try{let{createClient:e}=await Promise.resolve().then(t.bind(t,11993)),r=e(i.supabaseUrl,i.supabaseKey),{data:o,error:n}=await r.from("security_alerts").select("count").limit(1);if(n)return{success:!1,message:"Supabase connection failed: ".concat(n.message)};try{let e=await fetch("".concat(i.apiUrl,"/api/status"),{method:"GET",timeout:5e3});if(!e.ok)return{success:!1,message:"Backend API connection failed: ".concat(e.status," ").concat(e.statusText)}}catch(e){return{success:!1,message:"Backend API connection failed: ".concat(e instanceof Error?e.message:"Unknown error")}}return{success:!0,message:"Both Supabase and Backend API connections successful!"}}catch(e){return{success:!1,message:"Connection test failed: ".concat(e instanceof Error?e.message:"Unknown error")}}finally{u(!1)}};return(0,o.jsx)(s.Provider,{value:{config:i,updateConfig:e=>{l(r=>({...r,...e,isConfigured:!0}))},resetToDefaults:()=>{l(a),localStorage.removeItem("dashboardConfig")},testConnection:d,isTesting:c,saveConfig:()=>{localStorage.setItem("dashboardConfig",JSON.stringify({...i,isConfigured:!0}))},refreshServices:()=>{window.location.reload()}},children:r})},l=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useConfig must be used within a ConfigProvider");return e}},36552:(e,r,t)=>{"use strict";function o(e){let{moduleIds:r}=e;return null}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return o}}),t(95155),t(47650),t(8567),t(77278)},64054:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class o{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new o}function a(e){return n?n.bind(e):o.bind(e)}function i(){return n?n.snapshot():function(e,...r){return e(...r)}}},76147:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,13673,23)),Promise.resolve().then(t.bind(t,4112)),Promise.resolve().then(t.bind(t,65380)),Promise.resolve().then(t.bind(t,35116)),Promise.resolve().then(t.bind(t,54466)),Promise.resolve().then(t.bind(t,32916))},86278:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let o=t(28140)._(t(1150));function n(e,r){var t;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...r};return(0,o.default)({...s,modules:null==(t=s.loadableGenerated)?void 0:t.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}},e=>{e.O(0,[978,256,946,441,255,358],()=>e(e.s=76147)),_N_E=e.O()}]);